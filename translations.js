// ShareSpace Multilingual Support
// Arabic (ar), Kurdish (ku), English (en)

const translations = {
    en: {
        // Navigation
        logo: "ShareSpace",
        home: "Home",
        gallery: "Gallery", 
        upload: "Upload",
        about: "About",
        
        // Hero Section
        heroTitle: "Share Your Vision",
        heroSubtitle: "Upload and share your photos and videos instantly with the world. No accounts, no limits, just pure creative expression.",
        dropFiles: "Drop your files here",
        orClick: "or click to browse your photos and videos",
        chooseFiles: "Choose Files",
        
        // Stats
        totalUploads: "Total Uploads",
        photos: "Photos",
        videos: "Videos",
        
        // Featured Content
        featuredContent: "Featured Content",
        
        // Gallery
        communityGallery: "Community Gallery",
        searchGallery: "Search gallery...",
        all: "All",
        image: "Photos",
        video: "Videos",
        
        // Lightbox
        download: "Download",
        view: "View",
        
        // Upload Page
        uploadTitle: "Upload Your Content",
        uploadSubtitle: "Share your photos and videos with the world. Our platform supports all major file formats with no size limits.",
        dropFilesAnywhere: "Drop files anywhere here",
        bulkUpload: "Bulk Upload",
        bulkUploadDesc: "Upload multiple files at once with our optimized batch processing system.",
        smartCompression: "Smart Compression",
        smartCompressionDesc: "Automatic optimization to reduce file sizes while maintaining quality.",
        privacyControls: "Privacy Controls",
        privacyControlsDesc: "Choose who can view your content with flexible privacy settings.",
        uploadQueue: "Upload Queue",
        clearAll: "Clear All",
        noFiles: "No files in queue. Start by dropping files above or clicking \"Choose Files\".",
        uploading: "Uploading...",
        completed: "Completed",
        filesUploaded: "Files Uploaded",
        totalSize: "Total Size",
        uploadSpeed: "Upload Speed",
        recentUploads: "Recent Uploads",
        viewAll: "View All",
        
        // Gallery Page
        galleryTitle: "Community Gallery",
        gallerySubtitle: "Explore a diverse collection of photos and videos shared by our creative community",
        mediaType: "Media Type",
        allMedia: "All Media",
        imagesOnly: "Images Only",
        videosOnly: "Videos Only",
        categories: "Categories",
        nature: "Nature",
        urban: "Urban",
        abstract: "Abstract",
        portrait: "Portrait",
        architecture: "Architecture",
        fileSize: "File Size",
        small: "< 1MB",
        medium: "1-5MB",
        large: "> 5MB",
        sortBy: "Sort By",
        newest: "Newest First",
        oldest: "Oldest First",
        nameAZ: "Name A-Z",
        fileSizeSort: "File Size",
        random: "Random",
        
        // About Page
        aboutTitle: "Share Your Vision",
        aboutSubtitle: "ShareSpace is a revolutionary platform that empowers creators to share their visual stories with the world, without barriers or limitations.",
        activeUsers: "Active Users",
        mediaShared: "Media Shared",
        countries: "Countries",
        ourMission: "Our Mission",
        noBarriers: "No Barriers",
        noBarriersDesc: "We eliminate the traditional barriers to sharing visual content. No accounts required, no upload limits, no watermarks - just pure creative expression.",
        instantSharing: "Instant Sharing",
        instantSharingDesc: "Share your moments instantly with the world. Our platform is designed for speed and simplicity, making visual sharing as easy as drag and drop.",
        communityFirst: "Community First",
        communityFirstDesc: "Build a global community of visual storytellers. Connect with creators from around the world and discover diverse perspectives through their lenses.",
        platformFeatures: "Platform Features",
        dragDropUpload: "Drag & Drop Upload",
        dragDropUploadDesc: "Simply drag your files from your device and drop them anywhere on the page. Our intelligent upload system handles the rest with real-time progress tracking.",
        lightboxGallery: "Lightbox Gallery",
        lightboxGalleryDesc: "Experience your content in a beautiful, full-screen lightbox viewer with smooth transitions and keyboard navigation support.",
        advancedFiltering: "Advanced Filtering",
        advancedFilteringDesc: "Find exactly what you're looking for with powerful filtering options by media type, date, size, and custom categories.",
        smartCompressionFeature: "Smart Compression",
        smartCompressionFeatureDesc: "Automatic optimization reduces file sizes while maintaining visual quality, ensuring fast loading times across all devices.",
        privacyControlsFeature: "Privacy Controls",
        privacyControlsFeatureDesc: "Choose who can view your content with flexible privacy settings. Keep it public, private, or share with specific individuals.",
        socialIntegration: "Social Integration",
        socialIntegrationDesc: "Share your content across multiple platforms with one-click social media integration and custom sharing links.",
        ourCommunity: "Our Community",
        communitySubtitle: "Join a thriving global community of visual storytellers, artists, and creators who share our passion for unfiltered creative expression.",
        activeCreators: "Active Creators",
        activeCreatorsDesc: "Photographers, videographers, and digital artists sharing their work daily",
        mediaSharedCommunity: "Media Shared",
        mediaSharedCommunityDesc: "Photos and videos from every corner of the globe, spanning every genre",
        countriesCommunity: "Countries",
        countriesCommunityDesc: "A truly global platform connecting creators across continents and cultures",
        uptime: "Uptime",
        uptimeDesc: "Reliable service ensuring your content is always accessible when you need it",
        readyToShare: "Ready to Share Your Vision?",
        readyToShareDesc: "Join thousands of creators who have already discovered the freedom of unrestricted visual sharing. Start uploading today and become part of our global community.",
        startUploading: "Start Uploading",
        exploreGallery: "Explore Gallery",
        
 // Coming Soon
        comingSoon: "Coming soon! This feature is under development.",
        copied: "Copied to clipboard!",
        
        // Footer
        copyright: "© 2024 ShareSpace. Built for creative expression and community sharing."
    },
    ar: {
        // Navigation
        logo: "شيرسبيس",
        home: "الرئيسية",
        gallery: "المعرض",
        upload: "رفع",
        about: "حول",
        
        // Hero Section
        heroTitle: "شارك رؤيتك",
        heroSubtitle: "قم برفع ومشاركة صورك ومقاطعك الفيديو فوراً مع العالم. لا حسابات، لا حدود، مجرد تعبير إبداعي نقي.",
        dropFiles: "أسقط ملفاتك هنا",
        orClick: "أو انقر لتصفح صورك ومقاطعك الفيديو",
        chooseFiles: "اختر الملفات",
        
        // Stats
        totalUploads: "إجمالي الرفع",
        photos: "الصور",
        videos: "مقاطع الفيديو",
        
        // Featured Content
        featuredContent: "المحتوى المميز",
        
        // Gallery
        communityGallery: "معرض المجتمع",
        searchGallery: "ابحث في المعرض...",
        all: "الكل",
        image: "الصور",
        video: "مقاطع الفيديو",
        
        // Lightbox
        download: "تحميل",
        view: "عرض",
        
        // Upload Page
        uploadTitle: "رفع محتواك",
        uploadSubtitle: "شارك صورك ومقاطعك الفيديو مع العالم. منصتنا تدعم جميع أنواع الملفات الرئيسية بدون حدود حجم.",
        dropFilesAnywhere: "أسقط الملفات في أي مكان هنا",
        bulkUpload: "رفع جماعي",
        bulkUploadDesc: "ارفع ملفات متعددة دفعة واحدة مع نظام المعالجة المجموعي المحسن لدينا.",
        smartCompression: "ضغط ذكي",
        smartCompressionDesc: "تحسين تلقائي لتقليل أحجام الملفات مع الحفاظ على الجودة.",
        privacyControls: "ضوابط الخصوصية",
        privacyControlsDesc: "اختر من يمكنه مشاهدة محتواك مع إعدادات خصوصية مرنة.",
        uploadQueue: "قائمة الانتظار للرفع",
        clearAll: "مسح الكل",
        noFiles: "لا توجد ملفات في قائمة الانتظار. ابدأ بإسقاط الملفات أعلاه أو النقر على \"اختر الملفات\".",
        uploading: "جاري الرفع...",
        completed: "مكتمل",
        filesUploaded: "الملفات المرفوعة",
        totalSize: "الحجم الكلي",
        uploadSpeed: "سرعة الرفع",
        recentUploads: "الرفع الأخير",
        viewAll: "عرض الكل",
        
        // Gallery Page
        galleryTitle: "معرض المجتمع",
        gallerySubtitle: "استكشف مجموعة متنوعة من الصور ومقاطع الفيديو المشتركة من قبل مجتمعنا الإبداعي",
        mediaType: "نوع الوسائط",
        allMedia: "جميع الوسائط",
        imagesOnly: "الصور فقط",
        videosOnly: "مقاطع الفيديو فقط",
        categories: "الفئات",
        nature: "الطبيعة",
        urban: "حضري",
        abstract: "تجريدي",
        portrait: "بورتريه",
        architecture: "عمارة",
        fileSize: "حجم الملف",
        small: "< 1 ميجابايت",
        medium: "1-5 ميجابايت",
        large: "> 5 ميجابايت",
        sortBy: "ترتيب حسب",
        newest: "الأحدث أولاً",
        oldest: "الأقدم أولاً",
        nameAZ: "الاسم أ-ي",
        fileSizeSort: "حجم الملف",
        random: "عشوائي",
        
        // About Page
        aboutTitle: "شارك رؤيتك",
        aboutSubtitle: "شيرسبيس هو منصة ثورية تمكن المبدعين من مشاركة قصصهم البصرية مع العالم، بدون حواجز أو قيود.",
        activeUsers: "المستخدمين النشطين",
        mediaShared: "الوسائط المشتركة",
        countries: "الدول",
        ourMission: "مهمتنا",
        noBarriers: "لا حواجز",
        noBarriersDesc: "نقضي الحواجز التقليدية لمشاركة المحتوى البصري. لا حسابات مطلوبة، لا حدود رفع، لا علامات مائية - مجرد تعبير إبداعي نقي.",
        instantSharing: "مشاركة فورية",
        instantSharingDesc: "شارك لحظاتك فوراً مع العالم. منصتنا مصممة للسرعة والبساطة، مما يجعل المشاركة البصرية سهلة مثل السحب والإسقاط.",
        communityFirst: "المجتمع أولاً",
        communityFirstDesc: "بناء مجتمع عالمي من رواة القصص البصرية. تواصل مع المبدعين من جميع أنحاء العالم واكتشف وجهات نظر متنوعة من خلال عدساتهم.",
        platformFeatures: "ميزات المنصة",
        dragDropUpload: "رفع السحب والإسقاط",
        dragDropUploadDesc: "ما عليك سوى سحب ملفاتك من جهازك وإسقاطها في أي مكان على الصفحة. يتكامل نظام الرفع الذكي لدينا مع تتبع التقدم في الوقت الفعلي.",
        lightboxGallery: "معرض لايت بوكس",
        lightboxGalleryDesc: "استمتع بمحتواك في عارض لايت بوكس جميل ملء الشاشة مع انتقالات سلسة ودعم التنقل باستخدام لوحة المفاتيح.",
        advancedFiltering: "تصفية متقدمة",
        advancedFilteringDesc: "ابحث بالضبط عن ما تبحث عنه مع خيارات تصفية قوية حسب نوع الوسائط، والتاريخ، والحجم، والفئات المخصصة.",
        smartCompressionFeature: "ضغط ذكي",
        smartCompressionFeatureDesc: "التقليل التلقائي من أحجام الملفات مع الحفاظ على الجودة البصرية، مما يضمن أوقات تحميل سريعة عبر جميع الأجهزة.",
        privacyControlsFeature: "ضوابط الخصوصية",
        privacyControlsFeatureDesc: "اختر من يمكنه مشاهدة محتواك مع إعدادات خصوصية مرنة. اجعله عام، خاص، أو شارك مع أفراد محددين.",
        socialIntegration: "التكامل الاجتماعي",
        socialIntegrationDesc: "شارك محتواك عبر منصات متعددة مع تكامل وسائل التواصل الاجتماعي بنقرة واحدة وروابط مشاركة مخصصة.",
        ourCommunity: "مجتمعنا",
        communitySubtitle: "انضم إلى مجتمع عالمي مزدهر من رواة القصص البصرية، والفنانين، والمبدعين الذين يشاركوننا شغفنا بالتعبير الإبداعي غير المصفى.",
        activeCreators: "المبدعين النشطين",
        activeCreatorsDesc: "مصورون فوتوغرافيون، ومصورو فيديو، وفنانون رقميون يشاركون أعمالهم يومياً",
        mediaSharedCommunity: "الوسائط المشتركة",
        mediaSharedCommunityDesc: "صور ومقاطع فيديو من كل ركن من أركان الكرة الأرضية، تغطي كل نوع",
        countriesCommunity: "الدول",
        countriesCommunityDesc: "منصة عالمية حقيقية تربط المبدعين عبر القارات والثقافات",
        uptime: "وقت التشغيل",
        uptimeDesc: "خدمة موثوقة تضمن أن محتواك متاح دائماً عندما تحتاجه",
        readyToShare: "مستعد لمشاركة رؤيتك؟",
        readyToShareDesc: "انضم إلى الآلاف من المبدعين الذين اكتشفوا بالفعل حرية المشاركة البصرية غير المقيدة. ابدأ الرفع اليوم وكن جزءاً من مجتمعنا العالمي.",
        startUploading: "ابدأ الرفع",
        exploreGallery: "استكشف المعرض",
        
        // Coming Soon
        comingSoon: "قريباً! هذه الميزة قيد التطوير.",
        copied: "تم النسخ إلى الحافظة!",
        
        // Footer
        copyright: "© 2024 شيرسبيس. مبني للتعبير الإبداعي ومشاركة المجتمع."
    },
    ku: {
        // Navigation
        logo: "ShareSpace",
        home: "پەڕەی سەرەکی",
        gallery: "گەلەری",
        upload: "بارکردن",
        about: "دەربارە",
        
        // Hero Section
        heroTitle: "بینینەکەت بەشدارکە",
        heroSubtitle: "وێنە و ڤیدیۆکانت فوراً لەگەڵ جیهان بەشدارکە. هیچ ئەکاونتێک، هیچ سنووردارکردنێک، تەنها دەربڕینی دروستکراوی ڕاستەقینە.",
        dropFiles: "فایلەکانت لێرە دابەزێنە",
        orClick: "یان کرتە بکە بۆ گەڕانی وێنە و ڤیدیۆکانت",
        chooseFiles: "فایلەکان هەڵبژێرە",
        
        // Stats
        totalUploads: "کۆی بارکردنەکان",
        photos: "وێنەکان",
        videos: "ڤیدیۆکان",
        
        // Featured Content
        featuredContent: "ناوەڕۆکی تایبەت",
        
        // Gallery
        communityGallery: "گەلەری کۆمەڵگا",
        searchGallery: "گەڕان لە گەلەری...",
        all: "هەموو",
        image: "وێنەکان",
        video: "ڤیدیۆکان",
        
        // Lightbox
        download: "دابەزاندن",
        view: "بینین",
        
        // Upload Page
        uploadTitle: "ناوەڕۆکەکەت باربکە",
        uploadSubtitle: "وێنە و ڤیدیۆکانت لەگەڵ جیهان بەشدارکە. پلاتفۆرمەکەمان هەموو جۆرە فایلە سەرەکییەکان پشتگیری دەکات بەبێ سنووری قەبارە.",
        dropFilesAnywhere: "فایلەکان لە هەر شوێنێک لێرە دابەزێنە",
        bulkUpload: "بارکردنی کۆمەڵایی",
        bulkUploadDesc: "چەندین فایل لە یەک کاتدا باربکە بە سیستەمی پرۆسێسکردنی کۆمەڵەی باشترکراومان.",
        smartCompression: "کۆمپرێسی زیرەک",
        smartCompressionDesc: "خێراکردنی خۆکار بۆ کەمکردنەوەی قەبارەی فایلەکان بە پاراستنی کوالیتی.",
        privacyControls: "کۆنترۆڵی تایبەتی",
        privacyControlsDesc: "هەڵبژێرە کێ دەتوانێت ناوەڕۆکەکەت ببینێت بە ڕێکخستنە تایبەتییە خێراکان.",
        uploadQueue: "ڕیزی بارکردن",
        clearAll: "سڕینەوەی هەموو",
        noFiles: "هیچ فایلێک لە ڕیزدا نییە. دەست پێبکە بە دابەزاندنی فایلەکان لە سەرەوە یان کرتە کردن لە \"فایلەکان هەڵبژێرە\".",
        uploading: "بارکردن...",
        completed: "تەواوبوو",
        filesUploaded: "فایلە بارکراوەکان",
        totalSize: "کۆی قەبارە",
        uploadSpeed: "خێرایی بارکردن",
        recentUploads: "بارکردنە نوێکان",
        viewAll: "بینینی هەموو",
        
        // Gallery Page
        galleryTitle: "گەلەری کۆمەڵگا",
        gallerySubtitle: "کۆمەڵێکی جیاواز لە وێنە و ڤیدیۆکان بکۆ کە لەلایەن کۆمەڵگای دروستکەرمانەوە هاوبەشکراون",
        mediaType: "جۆری میدیا",
        allMedia: "هەموو میدیاکان",
        imagesOnly: "تەنها وێنەکان",
        videosOnly: "تەنها ڤیدیۆکان",
        categories: "پۆلەکان",
        nature: "سروشت",
        urban: "شارستانی",
        abstract: "مەجازی",
        portrait: "پۆرترێت",
        architecture: "ئەندازیاری",
        fileSize: "قەبارەی فایل",
        small: "< 1 MB",
        medium: "1-5 MB",
        large: "> 5 MB",
        sortBy: "ڕێکخستن بەپێی",
        newest: "نوێترین یەکەم",
        oldest: "کۆنترین یەکەم",
        nameAZ: "ناو ا-ی",
        fileSizeSort: "قەبارەی فایل",
        random: "خۆماڵی",
        
        // About Page
        aboutTitle: "بینینەکەت بەشدارکە",
        aboutSubtitle: "شیرسبیس پلاتفۆرمێکی شۆڕشگێڕە کە توانا دەدات بە دروستکەران بۆ بەشدارکردنی چیرۆکە بینراوەکانیان لەگەڵ جیهان، بەبێ سنووردارکردن یان سنوورەکان.",
        activeUsers: "بەکارهێنەرە چالاکەکان",
        mediaShared: "میدیای هاوبەشکراو",
        countries: "وڵاتەکان",
        ourMission: "مەبەستمان",
        noBarriers: "هیچ سنوورێک",
        noBarriersDesc: "ئێمە سنوورە ئاساییەکانی بەشدارکردنی ناوەڕۆکی بینراو لابدەین. هیچ ئەکاونتێک پێویست نییە، هیچ سنووری بارکردن، هیچ واتەرمارکێک - تەنها دەربڕینی دروستکراوی ڕاستەقینە.",
        instantSharing: "بەشدارکردنی خێرا",
        instantSharingDesc: "لحظەکانی خۆت فوراً لەگەڵ جیهان بەشدارکە. پلاتفۆرمەکەمان بۆ خێرایی و سادەکردن دیزاین کراوە، کە بەشدارکردنی بینراو ئاسان دەکات وەکو دابەزاندن و ڕاکردن.",
        communityFirst: "کۆمەڵگا یەکەم",
        communityFirstDesc: "کۆمەڵگایەکی جیهانی دروستکەران دروستبکە. پەیوەندی بە دروستکەران لە هەموو جیهانەوە بکە و تێڕوانینە جیاوازەکان بدۆزەرەوە لە ڕێگەی کامێراکانیانەوە.",
        platformFeatures: "تایبەتمەندییەکانی پلاتفۆرم",
        dragDropUpload: "بارکردنی دابەزاندن و ڕاکردن",
        dragDropUploadDesc: "تەنها فایلەکانت لە ئامێرەکەت بدە و لە هەر شوێنێکی پەڕەکە دابەزێنە. سیستەمی بارکردنی زیرەکمان بە تێڕوانینی پێشکەوتن لە کاتی ڕاستەقینە کار دەکات.",
        lightboxGallery: "گەلەری Lightbox",
        lightboxGalleryDesc: "ناوەڕۆکەکەت لە بینەرێکی جوان بە قەبارەی پڕ بەشداربکە لەگەڵ گۆڕینە نەرمەکان و پشتگیری گەڕان بە شێوازەکانی کیبۆرد.",
        advancedFiltering: "پاڵاوتنی پێشکەوتوو",
        advancedFilteringDesc: "وەكو خۆت دەتەوێت بدۆزەرەوە بە ئەپیشنە پاڵاوتنە بەهێزەکان بەپێی جۆری میدیا، بەروار، قەبارە، و پۆلە تایبەتەکان.",
        smartCompressionFeature: "کۆمپرێسی زیرەک",
        smartCompressionFeatureDesc: "کەمکردنەوەی خۆکارەی قەبارەی فایلەکان بە پاراستنی کوالیتی بینراو، کە دڵنیایی دەدات لە کاتی بارکردنی خێرا لە هەموو ئامێرەکان.",
        privacyControlsFeature: "کۆنترۆڵی تایبەتی",
        privacyControlsFeatureDesc: "هەڵبژێرە کێ دەتوانێت ناوەڕۆکەکەت ببینێت بە ڕێکخستنە تایبەتییە خێراکان. بیریگە بە ئاشکرا، تایبەتی، یان بەشداریکردن لەگەڵ کەسانێکی دیاریکراو.",
        socialIntegration: "یەکخستنی کۆمەڵایەتی",
        socialIntegrationDesc: "ناوەڕۆکەکەت لە چەندین پلاتفۆرم بە یەک کرتەی یەکخستنی میدیای کۆمەڵایەتی و بەستەرە بەشداریکردنە تایبەتەکان.",
        ourCommunity: "کۆمەڵگای ئێمە",
        communitySubtitle: "بەشداری کۆمەڵگایەکی جیهانی خۆشبەخت بکەیت لە ڕووداوە بینراوەکان، هونەرمەندان، و دروستکەران کە هاوسۆزمانە لەسەر دەربڕینی دروستکراوی نەپاک.",
        activeCreators: "دروستکەرە چالاکەکان",
        activeCreatorsDesc: "وێنەگیرەکان، ڤیدیۆگرافەرەکان، و هونەرمەندە دیجیتاڵەکان ڕۆژانە کارەکانیان هاوبەش دەکەن",
        mediaSharedCommunity: "میدیای هاوبەشکراو",
        mediaSharedCommunityDesc: "وێنە و ڤیدیۆکان لە هەموو گۆشەگیرەی جیهانەوە، هەموو جۆرێک دەگرێتەوە",
        countriesCommunity: "وڵاتەکان",
        countriesCommunityDesc: "پلاتفۆرمێکی جیهانی ڕاستەقینە کە دروستکەران لە نێوان قارەکان و کلتوورەکان پەیوەندیدەکات",
        uptime: "کاتی کارکردن",
        uptimeDesc: "خزمەتگوزارییەکی پشتگیری کراو کە دڵنیایی دەدات ناوەڕۆکەکەت هەمیشە دەستگەیشتنیە کاتێک پێویستتە",
        readyToShare: "ئامادەیی بۆ بەشدارکردنی بینینەکەت؟",
        readyToShareDesc: "بەشداری هەزاران دروستکەر بکەیت کە پێشتر دۆزیوەتەوە ئازادییەکەی بەشداریکردنی بینراو. ئەمڕۆ دەست پێبکەیت و ببەیت بە بەشێک لە کۆمەڵگای جیهانی ئێمە.",
        startUploading: "دەست بکەیت بە بارکردن",
        exploreGallery: "گەلەری بکەیتەوە",
        
        // Coming Soon
        comingSoon: "بە زوو! ئەم تایبەتمەندییە لە پەرەودانە.",
        copied: "کۆپی کرا!",
        
        // Footer
        copyright: "© 2024 شیرسبیس. دروستکراوە بۆ دەربڕینی دروستکراوی و بەشداریکردنی کۆمەڵگا."
    }
};

// Language management class
class LanguageManager {
    constructor() {
        this.currentLanguage = 'en';
 this.availableLanguages = ['en', 'ar', 'ku'];
        this.rtlLanguages = ['ar', 'ku'];
        this.init();
    }

    init() {
        this.loadSavedLanguage();
        this.setupLanguageSwitcher();
        this.applyCurrentLanguage();
    }

    loadSavedLanguage() {
        const saved = localStorage.getItem('sharespace-language');
        if (saved && this.availableLanguages.includes(saved)) {
            this.currentLanguage = saved;
        }
    }

    saveLanguage() {
        localStorage.setItem('sharespace-language', this.currentLanguage);
    }

    setLanguage(lang) {
        if (this.availableLanguages.includes(lang)) {
            this.currentLanguage = lang;
            this.saveLanguage();
            this.applyCurrentLanguage();
            
            // Dispatch language change event
            document.dispatchEvent(new CustomEvent('languageChanged', {
                detail: { language: lang }
            }));
        }
    }

    getCurrentLanguage() {
        return this.currentLanguage;
    }

    getTranslation(key) {
        const translation = translations[this.currentLanguage];
        return translation[key] || translations['en'][key] || key;
    }

    applyCurrentLanguage() {
        // Update all elements with data-translate attribute
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            const translation = this.getTranslation(key);
            
            if (element.tagName === 'INPUT' && element.type !== 'button') {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
        });

        // Update RTL layout for Arabic and Kurdish
        this.updateLayoutDirection();
        
        // Update language switcher UI
        this.updateLanguageSwitcher();
    }

    updateLayoutDirection() {
        const isRTL = this.rtlLanguages.includes(this.currentLanguage);
        document.documentElement.setAttribute('dir', isRTL ? 'rtl' : 'ltr');
        
        // Add/remove RTL classes
        document.body.classList.toggle('rtl', isRTL);
        document.body.classList.toggle('ltr', !isRTL);
    }

    setupLanguageSwitcher() {
        // Create language switcher if it doesn't exist
        if (!document.querySelector('.language-switcher')) {
            this.createLanguageSwitcher();
        }
    }

    createLanguageSwitcher() {
        const switcher = document.createElement('div');
        switcher.className = 'language-switcher';
        switcher.innerHTML = `
            <select class="language-select">
                <option value="en">English</option>
                <option value="ar">العربية</option>
                <option value="ku">Kurdish</option>
            </select>
        `;

        // Add to navigation
        const nav = document.querySelector('.navbar .max-w-7xl');
        if (nav) {
            nav.appendChild(switcher);
        }

        // Add event listener
        switcher.querySelector('.language-select').addEventListener('change', (e) => {
            this.setLanguage(e.target.value);
        });
    }

    updateLanguageSwitcher() {
        const select = document.querySelector('.language-select');
        if (select) {
            select.value = this.currentLanguage;
        }
    }

    // Utility method to translate dates
    formatDate(date) {
        const options = { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
        };
        
        try {
            return new Intl.DateTimeFormat(this.currentLanguage, options).format(date);
        } catch (e) {
            return date.toLocaleDateString();
        }
    }

    // Utility method for plural forms
    getPluralForm(count, singular, plural, dual) {
        if (this.currentLanguage === 'ar') {
            // Arabic plural rules
            if (count === 1) return singular;
            if (count === 2) return dual || plural;
            if (count >= 3 && count <= 10) return plural;
            return plural;
        } else if (this.currentLanguage === 'ku') {
            // Kurdish plural rules
            if (count === 1) return singular;
            return plural;
        } else {
            // English plural rules
            return count === 1 ? singular : plural;
        }
    }
}

// Initialize language manager
let languageManager;
document.addEventListener('DOMContentLoaded', () => {
    languageManager = new LanguageManager();
});

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { LanguageManager, translations };
}